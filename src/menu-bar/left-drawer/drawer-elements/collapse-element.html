<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../../../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../../../../bower_components/paper-item/paper-item-body.html">



<dom-module id="collapse-element">

    <style>
      .collapse-content {
         padding: 15px;
         border: 1px solid #dedede;
       }

       .heading{
        width: 100%;
        margin: 0;
       }

       .item-container{
        width:100%;
       }

       .item-text{
        font-size: .9rem;
       }

       .avatar {
         display: inline-block;
         box-sizing: border-box;
         width: 40px;
         height: 40px;
         border-radius: 50%;
         background: var(--paper-amber-500);
       }

    </style>
<template>
  <template is="dom-repeat" items="{{games}}">
    <paper-button id$="options" class="heading" on-click="toggle">
      <div role="listbox" class="item-container">
        <paper-icon-item>
           <div class="avatar blue" item-icon></div>
           <paper-item-body>
             <div class="item-text">{{item.title}}</div>
           </paper-item-body>
           <paper-icon-button icon="star" alt="favourite this!">
           </paper-icon-button>
         </paper-icon-item>
       </div>
    </paper-button>

    <iron-collapse id$="collapse{{item.id}}">
      <div class="collapse-content">
        <div>Content goes here...</div>
      </div>
    </iron-collapse>
  </template>
</template>
  <script>

    Polymer({

      is: 'collapse-element',
      toggle: function (event, detail, sender) {
                  var id = event.model.item.id;
                  var selector = '#collapse' + id;
                  this.$$(selector).toggle();
              },

      ready: function() {
              this.games = [
                  {title: 'League of Legends', icon: '', id:"1"},
                  {title: 'World of Warcraft', icon: '', id:"2"},
                  {title: 'Pokemon GO', icon: '', id:"3"}
              ];
            }
    });


  </script>